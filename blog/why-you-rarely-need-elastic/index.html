<!doctype html><html><head><meta charset=utf-8><title>Why You Rarely Need ElasticSearch When You Have PostgreSQL</title><meta name=viewport content="width=device-width,initial-scale=1"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><link rel=stylesheet href=https://acethecloud.com/plugins/slick/slick.css><link rel=stylesheet href=https://acethecloud.com/plugins/slick/slick-theme.css><link rel=stylesheet href=https://acethecloud.com/plugins/font-awesome/css/font-awesome.min.css><link rel=stylesheet href=https://acethecloud.com/plugins/magnafic-popup/magnific-popup.css><link href=https://acethecloud.com/scss/style.min.css rel=stylesheet><link rel="shortcut icon" href=https://acethecloud.com/images/favicon.ico type=image/x-icon><link rel=icon href=https://acethecloud.com/images/favicon.png type=image/x-icon><script async src="https://www.googletagmanager.com/gtag/js?id=G-54XSTRSXS5"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-54XSTRSXS5")</script></head><body><nav class="navbar navbar-expand-lg fixed-top"><div class=container><a href=https://acethecloud.com/ class=navbar-brand><img src=https://acethecloud.com/images/site-navigation/logo.png alt=site-logo></a>
<button type=button class="navbar-toggler collapsed" data-toggle=collapse data-target=#navbarCollapse>
<span class=navbar-toggler-icon></span>
<span class=navbar-toggler-icon></span>
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse justify-content-between" id=navbarCollapse><ul class="nav navbar-nav main-navigation my-0 mx-auto"><li class=nav-item><a href=https://acethecloud.com/#home class="nav-link text-dark text-sm-center p-2">Home</a></li><li class=nav-item><a href=https://acethecloud.com/#about class="nav-link text-dark text-sm-center p-2">About</a></li><li class=nav-item><a href=https://acethecloud.com/#resume class="nav-link text-dark text-sm-center p-2">Cloud</a></li><li class=nav-item><a href=https://acethecloud.com/#skills class="nav-link text-dark text-sm-center p-2">Cloud Share</a></li><li class=nav-item><a href=https://acethecloud.com/#contact class="nav-link text-dark text-sm-center p-2">Subscribe</a></li></ul><div class=navbar-nav><a href=https://acethecloud.com/blog class="btn btn-primary btn-zoom hire_button">Blog</a></div></div></div></nav><div id=content><header class=breadCrumb><div class=container><div class=row><div class="col-lg-10 col-md-12 offset-lg-1 offset-md-0 text-center"><h3 class=breadCrumb__title>Why You Rarely Need ElasticSearch When You Have PostgreSQL</h3><nav aria-label=breadcrumb class="d-flex justify-content-center"><ol class="breadcrumb align-items-center"><li class=breadcrumb-item><a href=https://acethecloud.com/><u>Home</u></a></li><li class=breadcrumb-item>-> <a href=https://acethecloud.com/blog><u>All Post</u></a></li><li class="breadcrumb-item active" aria-current=page>-><u>Why You Rarely Need ElasticSearch When You Have PostgreSQL</u></li></ol></nav></div></div><ul class=post-meta><li><i class="fa fa-calendar"></i>
September 1, 2023</li><li><i class="fa fa-clock-o"></i>
9 mins to read</li><li><i class="fa fa-folder-open"></i>
<a class=text-capitalize href=https://acethecloud.com/categories/blogs/>blogs</a></li></ul><div class=post-meta>Tags :>
<a class=text-capitalize href=https://acethecloud.com/tags/elastic/>elastic</a>
<a class=text-capitalize href=https://acethecloud.com/tags/postgres/>postgres</a>
<a class=text-capitalize href=https://acethecloud.com/tags/database/>database</a>
<a class=text-capitalize href=https://acethecloud.com/tags/programming/>programming</a></div></div></div></div></div></header><section class="section singleBlog"><div class=svg-img><img src=https://acethecloud.com/images/hero/figure-svg.svg alt></div><div class=animate-shape><img src=https://acethecloud.com/images/skill/skill-background-shape.svg alt><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 600 600"><defs><linearGradient id="d" x1=".929" y1=".111" x2=".263" y2=".935" gradientUnits="objectBoundingBox"><stop offset="0" stop-color="#f1f6f9"/><stop offset="1" stop-color="#f1f6f9" stop-opacity="0"/></linearGradient></defs><g data-name="blob-shape (3)"><path class="blob" fill="url(#d)" d="M455.4 151.1c43.1 36.7 73.4 92.8 60.8 136.3-12.7 43.5-68.1 74.4-111.3 119.4-43.1 45-74 104.1-109.8 109-35.9 5-76.7-44.2-111.8-89.2-35.2-45-64.7-85.8-70.8-132.6-6-46.8 11.6-99.6 46.7-136.3 35.2-36.6 88-57.2 142.4-58.8 54.5-1.7 110.6 15.6 153.8 52.2z"/></g></svg></div><div class=animate-pattern><img src=https://acethecloud.com/images/service/background-pattern.svg alt=background-shape></div><div class=container><div class=row><div class=col-lg-12><div class=singleBlog__feature style=margin-top:-300px;margin-bottom:-300px><img src=https://acethecloud.com/images/blog/spring-cloud.png alt=feature-image></div></div></div><div class="row mt-5"><div class=col-lg-12><div class=singleBlog__content><h1 id=why-you-rarely-need-elasticsearch-when-you-have-postgresql>Why You Rarely Need ElasticSearch When You Have PostgreSQL</h1><p>ElasticSearch is a popular open-source search engine that provides fast and scalable full-text search capabilities. It is often used as a complement to relational databases, such as PostgreSQL, to enable complex queries and analytics on large and dynamic datasets. However, ElasticSearch also comes with some drawbacks and challenges, such as data duplication, synchronization issues, security risks, and operational overhead. In this post, I will argue that you rarely need ElasticSearch when you have PostgreSQL, as PostgreSQL already offers powerful and flexible full-text search features that can meet most of your search needs.</p><h2 id=what-is-full-text-search>What is Full-Text Search?</h2><p>Full-text search (FTS) is the process of finding relevant documents or records that match a given query based on the content of the documents or records. Unlike simple keyword search, FTS can handle natural language queries, synonyms, stemming, ranking, relevance scoring, and other advanced features that improve the quality and accuracy of the search results.</p><h2 id=how-does-postgresql-support-full-text-search>How Does PostgreSQL Support Full-Text Search?</h2><p>PostgreSQL is a robust and versatile relational database management system (RDBMS) that supports many advanced features, including FTS. PostgreSQL has a built-in FTS module that allows you to create, query, and manage full-text indexes on any text-based columns in your tables. PostgreSQL&rsquo;s FTS module supports the following features:</p><ul><li><strong>Text normalization</strong>: PostgreSQL can convert text into a standard form that is suitable for FTS, such as lowercasing, removing punctuation, splitting words, and applying stemming and lemmatization algorithms.</li><li><strong>Text analysis</strong>: PostgreSQL can analyze text using predefined or custom dictionaries that define how to tokenize, classify, and transform words. For example, you can use dictionaries to remove stop words (such as &ldquo;the&rdquo; or &ldquo;and&rdquo;), map synonyms (such as &ldquo;car&rdquo; or &ldquo;automobile&rdquo;), or handle morphological variations (such as &ldquo;run&rdquo; or &ldquo;running&rdquo;).</li><li><strong>Text representation</strong>: PostgreSQL can represent text as a tsvector data type, which is a sorted list of distinct lexemes (normalized words) with optional positional information. A tsvector can be stored as a column in a table or generated dynamically from a text column using a to_tsvector function.</li><li><strong>Text search</strong>: PostgreSQL can perform FTS queries using a tsquery data type, which is a Boolean expression of lexemes that can include operators (such as & for AND, | for OR, ! for NOT) and modifiers (such as :* for prefix matching or &lt;-> for phrase matching). A tsquery can be constructed from a text query using a to_tsquery function or a plainto_tsquery function (which adds implicit AND operators between words). PostgreSQL can compare a tsquery with a tsvector using an @@ operator, which returns true if the tsvector matches the tsquery.</li><li><strong>Text ranking</strong>: PostgreSQL can rank the results of FTS queries using various ranking functions, such as ts_rank or ts_rank_cd, which assign a score to each matching document based on the frequency and position of the query terms in the document. You can also customize the ranking functions by providing weighting parameters that reflect the importance of different document parts (such as title, abstract, or body).</li></ul><h2 id=how-does-postgresql-compare-with-elasticsearch>How Does PostgreSQL Compare with ElasticSearch?</h2><p>ElasticSearch is a distributed and schema-less search engine that is based on Apache Lucene, a Java library that provides FTS capabilities. ElasticSearch can index and search any kind of data, such as text, numbers, dates, geospatial data, structured data, or nested data. ElasticSearch supports the following features:</p><ul><li><strong>Distributed architecture</strong>: ElasticSearch can scale horizontally by distributing data across multiple nodes in a cluster. Each node can store one or more shards (partitions) of an index, which can be replicated for fault tolerance and load balancing. ElasticSearch also provides mechanisms for cluster management, node discovery, shard allocation, and cluster health monitoring.</li><li><strong>Schema-less design</strong>: ElasticSearch does not require you to define a schema for your data before indexing it. Instead, it infers the data type and structure from the JSON documents that you send to it. You can also change the mapping (the internal representation of the data) of an index at any time without reindexing the data.</li><li><strong>Powerful query language</strong>: ElasticSearch supports a rich and expressive query language called Query DSL (Domain Specific Language), which allows you to construct complex queries using JSON syntax. You can use Query DSL to perform various types of queries, such as match queries (for full-text search), term queries (for exact value matching), range queries (for numeric or date ranges), geo queries (for geospatial data), nested queries (for nested data), aggregations (for analytics), and more.</li><li><strong>Flexible analysis</strong>: ElasticSearch allows you to customize how your data is analyzed before indexing and searching it. You can define analyzers (which consist of character filters, tokenizers, and token filters) that control how text is normalized, tokenized, and transformed. You can also use built-in or custom plugins that provide additional analysis features, such as language detection, synonym expansion, stemming, lemmatization, etc.</li></ul><p>At first glance, ElasticSearch seems to offer more features and flexibility than PostgreSQL for FTS. However, PostgreSQL also has some advantages and benefits over ElasticSearch, such as:</p><ul><li><strong>Data consistency</strong>: PostgreSQL guarantees ACID (Atomicity, Consistency, Isolation, Durability) properties for transactions, which means that you can perform multiple operations on your data as a single unit and ensure that your data is always in a valid and consistent state. ElasticSearch, on the other hand, does not support transactions and only provides eventual consistency, which means that your data may not be immediately visible or updated across all nodes in the cluster.</li><li><strong>Data integrity</strong>: PostgreSQL enforces data integrity constraints, such as primary keys, foreign keys, unique constraints, check constraints, etc., which prevent you from inserting or updating invalid or duplicate data. ElasticSearch does not support any data integrity constraints and relies on the application logic to validate and deduplicate the data.</li><li><strong>Data security</strong>: PostgreSQL provides various security features, such as authentication, authorization, encryption, auditing, etc., which allow you to control who can access and manipulate your data. ElasticSearch does not have any built-in security features and requires external plugins or services (such as X-Pack or Search Guard) to enable security functionalities.</li><li><strong>Data versatility</strong>: PostgreSQL supports many data types and functions that are not available in ElasticSearch, such as arrays, JSONB (binary JSON), XML, hstore (key-value pairs), geometric types, window functions, common table expressions, etc. These data types and functions can enhance the expressiveness and performance of your queries and applications.</li><li><strong>Operational simplicity</strong>: PostgreSQL is a mature and stable RDBMS that has been in development for over 30 years. It has a large and active community that provides documentation, support, and tools for PostgreSQL users and developers. PostgreSQL is also easy to install, configure, and maintain. ElasticSearch is a relatively new and complex system that requires more expertise and resources to operate. It has a steep learning curve and a fast release cycle that may introduce breaking changes or bugs.</li></ul><h2 id=when-do-you-need-elasticsearch>When Do You Need ElasticSearch?</h2><p>Given the advantages and benefits of PostgreSQL for FTS, you may wonder when do you actually need ElasticSearch? The answer is: it depends on your use case and requirements. There is no definitive rule or guideline that can tell you when to use one or the other. However, here are some general scenarios where ElasticSearch may be a better choice than PostgreSQL:</p><ul><li><strong>You have very large and dynamic datasets</strong>: If you have to deal with terabytes or petabytes of data that are constantly changing or growing, you may benefit from the scalability and performance of ElasticSearch. ElasticSearch can handle high volumes of data ingestion and query throughput by distributing the load across multiple nodes in a cluster. PostgreSQL can also scale horizontally by using replication or sharding techniques, but it may require more effort and complexity to set up and manage.</li><li><strong>You have very complex and diverse queries</strong>: If you have to perform sophisticated queries that involve multiple types of data, such as text, numbers, dates, geospatial data, nested data, etc., you may benefit from the flexibility and power of ElasticSearch&rsquo;s Query DSL. ElasticSearch can handle various kinds of queries with ease and efficiency by using its inverted index structure and various analysis features. PostgreSQL can also perform complex queries by using its FTS module and other data types and functions, but it may require more SQL skills and optimization techniques to achieve the same results.</li><li><strong>You have very specific analysis needs</strong>: If you have to customize how your data is analyzed before indexing and searching it according to your domain or language needs, you may benefit from the extensibility and configurability of ElasticSearch&rsquo;s analysis framework. ElasticSearch allows you to define your own analyzers or use plugins that provide additional analysis features for your data. PostgreSQL also allows you to customize its FTS module by using dictionaries or extensions that provide different text analysis options for your data.</li></ul><p>Here are some query examples for both PostgreSQL and ElasticSearch for FTS, using the same dataset of blog posts with title, body, and tags fields:</p><ul><li>To find blog posts that contain the words &ldquo;PostgreSQL&rdquo; and &ldquo;ElasticSearch&rdquo; in the title or body, you can use the following queries:</li></ul><div class=highlight><div style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#60a0b0;font-style:italic>-- PostgreSQL
</span></span></span><span style=display:flex><span><span style=color:#60a0b0;font-style:italic></span><span style=color:#007020;font-weight:700>SELECT</span><span style=color:#bbb> </span>title,<span style=color:#bbb> </span>body,<span style=color:#bbb> </span>tags<span style=color:#bbb> </span><span style=color:#007020;font-weight:700>FROM</span><span style=color:#bbb> </span>blog_posts<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#007020;font-weight:700>WHERE</span><span style=color:#bbb> </span>to_tsvector(<span style=color:#4070a0>&#39;english&#39;</span>,<span style=color:#bbb> </span>title<span style=color:#bbb> </span><span style=color:#666>||</span><span style=color:#bbb> </span><span style=color:#4070a0>&#39; &#39;</span><span style=color:#bbb> </span><span style=color:#666>||</span><span style=color:#bbb> </span>body)<span style=color:#bbb> </span><span style=color:#666>@@</span><span style=color:#bbb> </span>to_tsquery(<span style=color:#4070a0>&#39;english&#39;</span>,<span style=color:#bbb> </span><span style=color:#4070a0>&#39;PostgreSQL &amp; ElasticSearch&#39;</span>);<span style=color:#bbb>
</span></span></span></code></pre></td></tr></table></div></div><div class=highlight><div style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">9
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span><span style=color:#60a0b0;font-style:italic>// ElasticSearch
</span></span></span><span style=display:flex><span><span style=color:#60a0b0;font-style:italic></span><span>GET</span> <span>/blog_posts/_search</span>
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#062873;font-weight:700>&#34;query&#34;</span>: {
</span></span><span style=display:flex><span>    <span style=color:#062873;font-weight:700>&#34;match&#34;</span>: {
</span></span><span style=display:flex><span>      <span style=color:#062873;font-weight:700>&#34;_all&#34;</span>: <span style=color:#4070a0>&#34;PostgreSQL ElasticSearch&#34;</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></td></tr></table></div></div><ul><li>To find blog posts that have the tag &ldquo;database&rdquo; or &ldquo;search engine&rdquo;, you can use the following queries:</li></ul><div class=highlight><div style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#60a0b0;font-style:italic>-- PostgreSQL
</span></span></span><span style=display:flex><span><span style=color:#60a0b0;font-style:italic></span><span style=color:#007020;font-weight:700>SELECT</span><span style=color:#bbb> </span>title,<span style=color:#bbb> </span>body,<span style=color:#bbb> </span>tags<span style=color:#bbb> </span><span style=color:#007020;font-weight:700>FROM</span><span style=color:#bbb> </span>blog_posts<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#007020;font-weight:700>WHERE</span><span style=color:#bbb> </span>tags<span style=color:#bbb> </span><span style=color:#666>@&gt;</span><span style=color:#bbb> </span><span style=color:#007020>ARRAY</span>[<span style=color:#4070a0>&#39;database&#39;</span>]<span style=color:#bbb> </span><span style=color:#007020;font-weight:700>OR</span><span style=color:#bbb> </span>tags<span style=color:#bbb> </span><span style=color:#666>@&gt;</span><span style=color:#bbb> </span><span style=color:#007020>ARRAY</span>[<span style=color:#4070a0>&#39;search engine&#39;</span>];<span style=color:#bbb>
</span></span></span></code></pre></td></tr></table></div></div><div class=highlight><div style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">9
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span><span style=color:#60a0b0;font-style:italic>// ElasticSearch
</span></span></span><span style=display:flex><span><span style=color:#60a0b0;font-style:italic></span><span>GET</span> <span>/blog_posts/_search</span>
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#062873;font-weight:700>&#34;query&#34;</span>: {
</span></span><span style=display:flex><span>    <span style=color:#062873;font-weight:700>&#34;terms&#34;</span>: {
</span></span><span style=display:flex><span>      <span style=color:#062873;font-weight:700>&#34;tags&#34;</span>: [<span style=color:#4070a0>&#34;database&#34;</span>, <span style=color:#4070a0>&#34;search engine&#34;</span>]
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></td></tr></table></div></div><ul><li>To find blog posts that have the phrase &ldquo;full-text search&rdquo; in the title or body, and rank them by relevance, you can use the following queries:</li></ul><div class=highlight><div style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#60a0b0;font-style:italic>-- PostgreSQL
</span></span></span><span style=display:flex><span><span style=color:#60a0b0;font-style:italic></span><span style=color:#007020;font-weight:700>SELECT</span><span style=color:#bbb> </span>title,<span style=color:#bbb> </span>body,<span style=color:#bbb> </span>tags,<span style=color:#bbb> </span>ts_rank(to_tsvector(<span style=color:#4070a0>&#39;english&#39;</span>,<span style=color:#bbb> </span>title<span style=color:#bbb> </span><span style=color:#666>||</span><span style=color:#bbb> </span><span style=color:#4070a0>&#39; &#39;</span><span style=color:#bbb> </span><span style=color:#666>||</span><span style=color:#bbb> </span>body),<span style=color:#bbb> </span>to_tsquery(<span style=color:#4070a0>&#39;english&#39;</span>,<span style=color:#bbb> </span><span style=color:#4070a0>&#39;full-text &lt;-&gt; search&#39;</span>))<span style=color:#bbb> </span><span style=color:#007020;font-weight:700>AS</span><span style=color:#bbb> </span>rank<span style=color:#bbb> </span><span style=color:#007020;font-weight:700>FROM</span><span style=color:#bbb> </span>blog_posts<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#007020;font-weight:700>WHERE</span><span style=color:#bbb> </span>to_tsvector(<span style=color:#4070a0>&#39;english&#39;</span>,<span style=color:#bbb> </span>title<span style=color:#bbb> </span><span style=color:#666>||</span><span style=color:#bbb> </span><span style=color:#4070a0>&#39; &#39;</span><span style=color:#bbb> </span><span style=color:#666>||</span><span style=color:#bbb> </span>body)<span style=color:#bbb> </span><span style=color:#666>@@</span><span style=color:#bbb> </span>to_tsquery(<span style=color:#4070a0>&#39;english&#39;</span>,<span style=color:#bbb> </span><span style=color:#4070a0>&#39;full-text &lt;-&gt; search&#39;</span>)<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#007020;font-weight:700>ORDER</span><span style=color:#bbb> </span><span style=color:#007020;font-weight:700>BY</span><span style=color:#bbb> </span>rank<span style=color:#bbb> </span><span style=color:#007020;font-weight:700>DESC</span>;<span style=color:#bbb>
</span></span></span></code></pre></td></tr></table></div></div><div class=highlight><div style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span><span style=color:#60a0b0;font-style:italic>// ElasticSearch
</span></span></span><span style=display:flex><span><span style=color:#60a0b0;font-style:italic></span><span>GET</span> <span>/blog_posts/_search</span>
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#062873;font-weight:700>&#34;query&#34;</span>: {
</span></span><span style=display:flex><span>    <span style=color:#062873;font-weight:700>&#34;match_phrase&#34;</span>: {
</span></span><span style=display:flex><span>      <span style=color:#062873;font-weight:700>&#34;_all&#34;</span>: <span style=color:#4070a0>&#34;full-text search&#34;</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  },
</span></span><span style=display:flex><span>  <span style=color:#062873;font-weight:700>&#34;sort&#34;</span>: [
</span></span><span style=display:flex><span>    <span style=color:#4070a0>&#34;_score&#34;</span>
</span></span><span style=display:flex><span>  ]
</span></span><span style=display:flex><span>}
</span></span></code></pre></td></tr></table></div></div><p>These are just some simple examples of how to use PostgreSQL and ElasticSearch for FTS. For more details and features, please refer to their official documentation .</p><h2 id=conclusion>Conclusion</h2><p>In this post, I have explained why you rarely need ElasticSearch when you have PostgreSQL for FTS. I have compared the features and capabilities of both systems for FTS and highlighted the advantages and benefits of PostgreSQL over ElasticSearch. I have also discussed some scenarios where ElasticSearch may be a better choice than PostgreSQL for FTS.</p><dl><dt>I hope this post has helped you understand the trade-offs and considerations involved in choosing between PostgreSQL and ElasticSearch for FTS. Ultimately, the best solution depends on your specific use case and requirements. Therefore, I encourage you to experiment with both systems and see which one works better for you.</dt><dd><p><a href=%5E1%5E>Full Text Search - PostgreSQL Documentation</a></p></dd><dd><a href=%5E2%5E>Elasticsearch: The Definitive Guide</a></dd></dl><div class=container><div><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3068198368246884" crossorigin=anonymous></script>
<ins class=adsbygoogle style=display:block data-ad-client=ca-pub-3068198368246884 data-ad-slot=9807437796 data-ad-format=auto data-full-width-responsive=true></ins>
<script>(adsbygoogle=window.adsbygoogle||[]).push({})</script></div></div></div></div></div></div></section></div><section class=footer id=contact><div class=footer__background_shape><svg viewBox="0 0 1920 79"><path d="M0 0h1920v79L0 0z" data-name="Path 1450"/></svg></div><div class=container><div class=row><div class=col-lg-12><div class=footer__cta><div class=shape-1><svg xmlns="http://www.w3.org/2000/svg" width="357" height="315.029" viewBox="0 0 357 315.029"><path data-name="Path 1449" d="M76.1-157.222C91.746-135.8 87.2-94.273 99.993-61.945c12.7 32.328 42.661 55.459 39.248 73.282-3.318 17.823-40.007 30.337-65.6 43.325-25.5 12.988-39.912 26.545-60.01 42.566-20.1 16.116-46.074 34.6-63.328 27.682-17.349-6.921-25.976-39.153-59.915-59.82s-93.1-29.768-105.325-51.478 22.373-56.028 43.609-93.949c21.331-37.921 29.2-79.35 53.563-96.793 24.459-17.444 65.414-10.9 103.9-6.921 38.396 3.982 74.326 5.404 89.965 26.829z" transform="translate(217.489 188.626)"/></svg></div><div class=shape-2><svg xmlns="http://www.w3.org/2000/svg" width="357" height="315.029" viewBox="0 0 357 315.029"><path data-name="Path 1449" d="M76.1-157.222C91.746-135.8 87.2-94.273 99.993-61.945c12.7 32.328 42.661 55.459 39.248 73.282-3.318 17.823-40.007 30.337-65.6 43.325-25.5 12.988-39.912 26.545-60.01 42.566-20.1 16.116-46.074 34.6-63.328 27.682-17.349-6.921-25.976-39.153-59.915-59.82s-93.1-29.768-105.325-51.478 22.373-56.028 43.609-93.949c21.331-37.921 29.2-79.35 53.563-96.793 24.459-17.444 65.414-10.9 103.9-6.921 38.396 3.982 74.326 5.404 89.965 26.829z" transform="translate(217.489 188.626)"/></svg></div><div class="text-light footer__cta_content"><span>Contact me</span><h3 class=mb-0>Let’s Discuss on your Cloud Journey</h3></div><div class=footer__cta_action><a class="btn btn-light btn-zoom" href=https://acethecloud.com/contact>Get in
touch</a></div></div></div></div><div class="row footer__widget"><div class=col-lg-4><div class="footer__widget_logo mb-5"><img src=https://acethecloud.com/images/contact/widget-logo.png style=width:400px alt=widget-logo></div></div><div class=col-lg-4 style=margin-left:100px><div class="text-light footer__widget_address mb-5"><h4 class=base-font>Sitemap</h4><ul class="unstyle-list small"><li class=mb-2><a class=text-light href=https://acethecloud.com/about>About Author</a></li><li class=mb-2><a class=text-light href=https://acethecloud.com/>Frequently Ask Question</a></li><li class=mb-2><a class=text-light href=https://acethecloud.com/>Privacy & Policy</a></li><li class=mb-2><a class=text-light href=https://acethecloud.com/>Latest Article</a></li></ul><h4 class=base-font>Address</h4><ul class="fa-ul small"><li class=mb-2><a class=text-light href=tel:><span class=fa-li><i class="fa fa-phone"></i></span></a></li><li class=mb-2><a class=text-light href=mailto:abhishek@acethecloud.com><span class=fa-li><i class="fa fa-envelope"></i></span>abhishek@acethecloud.com</a></li><li class=mb-2><span class=fa-li><i class="fa fa-map-marker"></i></span></a></li></ul></div></div></div><div class="row footer__footer"><div class=col-lg-6><div class="footer__footer_copy text-light"><p>Copyright 2023 - All Rights Reserved by <a class=text-light href=https://AceTheCloud.com/ target=_blank>AceTheCloud</a></p></div></div><div class=col-lg-6><div class=footer__footer_social><ul class=unstyle-list><li class="d-inline-block mx-2"><a class=text-light target=_blank href=https://facebook.com/cloud.and.mobile.evangelist/><i class="fa fa-facebook-official"></i></a></li><li class="d-inline-block mx-2"><a class=text-light target=_blank href=https://www.linkedin.com/in/enterprise-cloud-architect/><i class="fa fa-linkedin-square"></i></a></li><li class="d-inline-block mx-2"><a class=text-light target=_blank href=https://www.pinterest.com/><i class="fa fa-pinterest-square"></i></a></li><li class="d-inline-block mx-2"><a class=text-light target=_blank href=https://twitter.com/AceTheCloud><i class="fa fa-twitter-square"></i></a></li></ul></div></div></div></div></section><script src="https://maps.googleapis.com/maps/api/js?key=&libraries=geometry"></script>
<script src=https://acethecloud.com/plugins/jQuery/jquery.min.js></script>
<script src=https://acethecloud.com/plugins/bootstrap/bootstrap.min.js></script>
<script src=https://acethecloud.com/plugins/slick/slick.min.js></script>
<script src=https://acethecloud.com/plugins/waypoint/jquery.waypoints.min.js></script>
<script src=https://acethecloud.com/plugins/magnafic-popup/jquery.magnific-popup.min.js></script>
<script src=https://acethecloud.com/plugins/tweenmax/TweenMax.min.js></script>
<script src=https://acethecloud.com/plugins/imagesloaded/imagesloaded.min.js></script>
<script src=https://acethecloud.com/plugins/masonry/masonry.min.js></script>
<script src=https://acethecloud.com/js/script.min.js></script></body></html>