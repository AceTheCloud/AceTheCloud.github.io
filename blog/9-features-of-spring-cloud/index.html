<!doctype html><html><head><meta charset=utf-8><title>9 Features of Spring Cloud</title><meta name=viewport content="width=device-width,initial-scale=1"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><link rel=stylesheet href=https://acethecloud.com/plugins/slick/slick.css><link rel=stylesheet href=https://acethecloud.com/plugins/slick/slick-theme.css><link rel=stylesheet href=https://acethecloud.com/plugins/font-awesome/css/font-awesome.min.css><link rel=stylesheet href=https://acethecloud.com/plugins/magnafic-popup/magnific-popup.css><link href=https://acethecloud.com/scss/style.min.css rel=stylesheet><link rel="shortcut icon" href=https://acethecloud.com/images/favicon.ico type=image/x-icon><link rel=icon href=https://acethecloud.com/images/favicon.png type=image/x-icon><script async src="https://www.googletagmanager.com/gtag/js?id=G-54XSTRSXS5"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-54XSTRSXS5")</script></head><body><nav class="navbar navbar-expand-lg fixed-top"><div class=container><a href=https://acethecloud.com/ class=navbar-brand><img src=https://acethecloud.com/images/site-navigation/logo.png alt=site-logo></a>
<button type=button class="navbar-toggler collapsed" data-toggle=collapse data-target=#navbarCollapse>
<span class=navbar-toggler-icon></span>
<span class=navbar-toggler-icon></span>
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse justify-content-between" id=navbarCollapse><ul class="nav navbar-nav main-navigation my-0 mx-auto"><li class=nav-item><a href=https://acethecloud.com/#home class="nav-link text-dark text-sm-center p-2">Home</a></li><li class=nav-item><a href=https://acethecloud.com/#about class="nav-link text-dark text-sm-center p-2">About</a></li><li class=nav-item><a href=https://acethecloud.com/#resume class="nav-link text-dark text-sm-center p-2">Cloud</a></li><li class=nav-item><a href=https://acethecloud.com/#skills class="nav-link text-dark text-sm-center p-2">Cloud Share</a></li><li class=nav-item><a href=https://acethecloud.com/#contact class="nav-link text-dark text-sm-center p-2">Subscribe</a></li></ul><div class=navbar-nav><a href=https://acethecloud.com/blog class="btn btn-primary btn-zoom hire_button">Blog</a></div></div></div></nav><div id=content><header class=breadCrumb><div class=container><div class=row><div class="col-lg-10 col-md-12 offset-lg-1 offset-md-0 text-center"><h3 class=breadCrumb__title>9 Features of Spring Cloud</h3><nav aria-label=breadcrumb class="d-flex justify-content-center"><ol class="breadcrumb align-items-center"><li class=breadcrumb-item><a href=https://acethecloud.com/><u>Home</u></a></li><li class=breadcrumb-item>-> <a href=https://acethecloud.com/blog><u>All Post</u></a></li><li class="breadcrumb-item active" aria-current=page>-><u>9 Features of Spring Cloud</u></li></ol></nav></div></div><ul class=post-meta><li><i class="fa fa-calendar"></i>
January 9, 2023</li><li><i class="fa fa-clock-o"></i>
7 mins to read</li><li><i class="fa fa-folder-open"></i>
<a class=text-capitalize href=https://acethecloud.com/categories/blogs/>blogs</a></li></ul><div class=post-meta>Tags :>
<a class=text-capitalize href=https://acethecloud.com/tags/spring/>spring</a>
<a class=text-capitalize href=https://acethecloud.com/tags/spring-cloud/>spring-cloud</a>
<a class=text-capitalize href=https://acethecloud.com/tags/java/>java</a>
<a class=text-capitalize href=https://acethecloud.com/tags/cloud/>cloud</a>
<a class=text-capitalize href=https://acethecloud.com/tags/programming/>programming</a></div></div></div></div></div></header><section class="section singleBlog"><div class=svg-img><img src=https://acethecloud.com/images/hero/figure-svg.svg alt></div><div class=animate-shape><img src=https://acethecloud.com/images/skill/skill-background-shape.svg alt><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 600 600"><defs><linearGradient id="d" x1=".929" y1=".111" x2=".263" y2=".935" gradientUnits="objectBoundingBox"><stop offset="0" stop-color="#f1f6f9"/><stop offset="1" stop-color="#f1f6f9" stop-opacity="0"/></linearGradient></defs><g data-name="blob-shape (3)"><path class="blob" fill="url(#d)" d="M455.4 151.1c43.1 36.7 73.4 92.8 60.8 136.3-12.7 43.5-68.1 74.4-111.3 119.4-43.1 45-74 104.1-109.8 109-35.9 5-76.7-44.2-111.8-89.2-35.2-45-64.7-85.8-70.8-132.6-6-46.8 11.6-99.6 46.7-136.3 35.2-36.6 88-57.2 142.4-58.8 54.5-1.7 110.6 15.6 153.8 52.2z"/></g></svg></div><div class=animate-pattern><img src=https://acethecloud.com/images/service/background-pattern.svg alt=background-shape></div><div class=container><div class=row><div class=col-lg-12><div class=singleBlog__feature style=margin-top:50px;margin-bottom:50px><img src=https://acethecloud.com/images/blog/spring-cloud.png alt=feature-image></div></div></div><div class="row mt-5"><div class=col-lg-12><div class=singleBlog__content><p>Spring Cloud is a framework for building microservices-based applications on the Spring platform. It provides tools and services for distributed systems, including service registration and discovery, routing, load balancing, circuit breakers, and more. In this blog post, we’ll cover these features in depth, including code examples in Java for each of them.</p><ol><li>Distributed/versioned configuration</li><li>Service registration and discovery</li><li>Routing</li><li>Service-to-service calls</li><li>Load balancing</li><li>Circuit Breakers</li><li>Global locks</li><li>Leadership election and cluster state</li><li>Distributed messaging</li></ol><hr><h3 id=1-distributedversioned-configuration>1. Distributed/versioned configuration</h3><p>One of the challenges of microservices-based architecture is managing configuration across multiple services. Spring Cloud provides a centralized configuration server that can store configuration properties for multiple services, making it easy to manage and version configuration in a single place.</p><p>To use the configuration server, we’ll first create a Spring Boot application and add the following dependency:</p><div class=highlight><div style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#062873;font-weight:700>&lt;dependency&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#062873;font-weight:700>&lt;groupId&gt;</span>org.springframework.cloud<span style=color:#062873;font-weight:700>&lt;/groupId&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#062873;font-weight:700>&lt;artifactId&gt;</span>spring-cloud-config-server<span style=color:#062873;font-weight:700>&lt;/artifactId&gt;</span>
</span></span><span style=display:flex><span><span style=color:#062873;font-weight:700>&lt;/dependency&gt;</span>
</span></span></code></pre></td></tr></table></div></div><p>Next, we’ll annotate the main class with @EnableConfigServer to enable the configuration server:</p><div class=highlight><div style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">7
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#555;font-weight:700>@SpringBootApplication</span>
</span></span><span style=display:flex><span><span style=color:#555;font-weight:700>@EnableConfigServer</span>
</span></span><span style=display:flex><span><span style=color:#007020;font-weight:700>public</span> <span style=color:#007020;font-weight:700>class</span> <span style=color:#0e84b5;font-weight:700>ConfigServerApplication</span> <span style=color:#666>{</span>
</span></span><span style=display:flex><span>  <span style=color:#007020;font-weight:700>public</span> <span style=color:#007020;font-weight:700>static</span> <span style=color:#902000>void</span> <span style=color:#06287e>main</span><span style=color:#666>(</span>String<span style=color:#666>[]</span> args<span style=color:#666>)</span> <span style=color:#666>{</span>
</span></span><span style=display:flex><span>    SpringApplication<span style=color:#666>.</span><span style=color:#4070a0>run</span><span style=color:#666>(</span>ConfigServerApplication<span style=color:#666>.</span><span style=color:#4070a0>class</span><span style=color:#666>,</span> args<span style=color:#666>);</span>
</span></span><span style=display:flex><span>  <span style=color:#666>}</span>
</span></span><span style=display:flex><span><span style=color:#666>}</span>
</span></span></code></pre></td></tr></table></div></div><p>And in the application properties file, we’ll specify the location of the configuration files:</p><div class=highlight><div style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml><span style=display:flex><span>spring.cloud.config.server.git.uri=https://github.com/user/config-repo<span style=color:#bbb>
</span></span></span></code></pre></td></tr></table></div></div><p>Now, we can use the configuration server to manage configuration properties for our services. For example, we can create a service that retrieves its configuration from the configuration server as follows:</p><div class=highlight><div style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#555;font-weight:700>@Value</span><span style=color:#666>(</span><span style=color:#4070a0>&#34;${message}&#34;</span><span style=color:#666>)</span>
</span></span><span style=display:flex><span><span style=color:#007020;font-weight:700>private</span> String message<span style=color:#666>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#555;font-weight:700>@RestController</span>
</span></span><span style=display:flex><span><span style=color:#007020;font-weight:700>public</span> <span style=color:#007020;font-weight:700>class</span> <span style=color:#0e84b5;font-weight:700>MessageController</span> <span style=color:#666>{</span>
</span></span><span style=display:flex><span>  <span style=color:#555;font-weight:700>@GetMapping</span><span style=color:#666>(</span><span style=color:#4070a0>&#34;/message&#34;</span><span style=color:#666>)</span>
</span></span><span style=display:flex><span>  <span style=color:#007020;font-weight:700>public</span> String <span style=color:#06287e>getMessage</span><span style=color:#666>()</span> <span style=color:#666>{</span>
</span></span><span style=display:flex><span>    <span style=color:#007020;font-weight:700>return</span> message<span style=color:#666>;</span>
</span></span><span style=display:flex><span>  <span style=color:#666>}</span>
</span></span><span style=display:flex><span><span style=color:#666>}</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=2-service-registration-and-discovery>2. Service registration and discovery</h3><p>Service registration and discovery are essential components of microservices architecture. Service registration refers to the process of registering a service with a registry, which is used to discover other services. In Spring Cloud, we can use Eureka as the registry.</p><p>To use Eureka, we’ll first create a Spring Boot application and add the following dependency:</p><div class=highlight><div style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#062873;font-weight:700>&lt;dependency&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#062873;font-weight:700>&lt;groupId&gt;</span>org.springframework.cloud<span style=color:#062873;font-weight:700>&lt;/groupId&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#062873;font-weight:700>&lt;artifactId&gt;</span>spring-cloud-starter-netflix-eureka-server<span style=color:#062873;font-weight:700>&lt;/artifactId&gt;</span>
</span></span><span style=display:flex><span><span style=color:#062873;font-weight:700>&lt;/dependency&gt;</span>
</span></span></code></pre></td></tr></table></div></div><p>Next, we’ll annotate the main class with @EnableEurekaServer to enable the Eureka server:</p><div class=highlight><div style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">7
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#555;font-weight:700>@SpringBootApplication</span>
</span></span><span style=display:flex><span><span style=color:#555;font-weight:700>@EnableEurekaServer</span>
</span></span><span style=display:flex><span><span style=color:#007020;font-weight:700>public</span> <span style=color:#007020;font-weight:700>class</span> <span style=color:#0e84b5;font-weight:700>EurekaServerApplication</span> <span style=color:#666>{</span>
</span></span><span style=display:flex><span>  <span style=color:#007020;font-weight:700>public</span> <span style=color:#007020;font-weight:700>static</span> <span style=color:#902000>void</span> <span style=color:#06287e>main</span><span style=color:#666>(</span>String<span style=color:#666>[]</span> args<span style=color:#666>)</span> <span style=color:#666>{</span>
</span></span><span style=display:flex><span>    SpringApplication<span style=color:#666>.</span><span style=color:#4070a0>run</span><span style=color:#666>(</span>EurekaServerApplication<span style=color:#666>.</span><span style=color:#4070a0>class</span><span style=color:#666>,</span> args<span style=color:#666>);</span>
</span></span><span style=display:flex><span>  <span style=color:#666>}</span>
</span></span><span style=display:flex><span><span style=color:#666>}</span>
</span></span></code></pre></td></tr></table></div></div><p>Now, we can create a service that registers with the Eureka server and discovers other services:</p><div class=highlight><div style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">7
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#555;font-weight:700>@SpringBootApplication</span>
</span></span><span style=display:flex><span><span style=color:#555;font-weight:700>@EnableDiscoveryClient</span>
</span></span><span style=display:flex><span><span style=color:#007020;font-weight:700>public</span> <span style=color:#007020;font-weight:700>class</span> <span style=color:#0e84b5;font-weight:700>DiscoveryClientApplication</span> <span style=color:#666>{</span>
</span></span><span style=display:flex><span>  <span style=color:#007020;font-weight:700>public</span> <span style=color:#007020;font-weight:700>static</span> <span style=color:#902000>void</span> <span style=color:#06287e>main</span><span style=color:#666>(</span>String<span style=color:#666>[]</span> args<span style=color:#666>)</span> <span style=color:#666>{</span>
</span></span><span style=display:flex><span>    SpringApplication<span style=color:#666>.</span><span style=color:#4070a0>run</span><span style=color:#666>(</span>DiscoveryClientApplication<span style=color:#666>.</span><span style=color:#4070a0>class</span><span style=color:#666>,</span> args<span style=color:#666>);</span>
</span></span><span style=display:flex><span>  <span style=color:#666>}</span>
</span></span><span style=display:flex><span><span style=color:#666>}</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=3-routing>3. Routing</h3><p>Routing is a key component of microservices architecture, as it allows us to route requests to the appropriate service based on the request URL. In Spring Cloud, we can use Zuul as the routing gateway.</p><p>To use Zuul, we’ll first create a Spring Boot application and add the following dependency:</p><div class=highlight><div style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#062873;font-weight:700>&lt;dependency&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#062873;font-weight:700>&lt;groupId&gt;</span>org.springframework.cloud<span style=color:#062873;font-weight:700>&lt;/groupId&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#062873;font-weight:700>&lt;artifactId&gt;</span>spring-cloud-starter-netflix-zuul<span style=color:#062873;font-weight:700>&lt;/artifactId&gt;</span>
</span></span><span style=display:flex><span><span style=color:#062873;font-weight:700>&lt;/dependency&gt;</span>
</span></span></code></pre></td></tr></table></div></div><p>Next, we’ll annotate the main class with @EnableZuulProxy to enable the Zuul proxy:</p><div class=highlight><div style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">7
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#555;font-weight:700>@SpringBootApplication</span>
</span></span><span style=display:flex><span><span style=color:#555;font-weight:700>@EnableZuulProxy</span>
</span></span><span style=display:flex><span><span style=color:#007020;font-weight:700>public</span> <span style=color:#007020;font-weight:700>class</span> <span style=color:#0e84b5;font-weight:700>ZuulProxyApplication</span> <span style=color:#666>{</span>
</span></span><span style=display:flex><span>  <span style=color:#007020;font-weight:700>public</span> <span style=color:#007020;font-weight:700>static</span> <span style=color:#902000>void</span> <span style=color:#06287e>main</span><span style=color:#666>(</span>String<span style=color:#666>[]</span> args<span style=color:#666>)</span> <span style=color:#666>{</span>
</span></span><span style=display:flex><span>    SpringApplication<span style=color:#666>.</span><span style=color:#4070a0>run</span><span style=color:#666>(</span>ZuulProxyApplication<span style=color:#666>.</span><span style=color:#4070a0>class</span><span style=color:#666>,</span> args<span style=color:#666>);</span>
</span></span><span style=display:flex><span>  <span style=color:#666>}</span>
</span></span><span style=display:flex><span><span style=color:#666>}</span>
</span></span></code></pre></td></tr></table></div></div><p>And in the application properties file, we’ll specify the routes for each service:</p><div class=highlight><div style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml><span style=display:flex><span>zuul.routes.service1.path=/service1/**<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>zuul.routes.service1.url=http://localhost:8081/<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>zuul.routes.service2.path=/service2/**<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>zuul.routes.service2.url=http://localhost:8082/<span style=color:#bbb>
</span></span></span></code></pre></td></tr></table></div></div><h3 id=4-service-to-service-calls>4. Service-to-service calls</h3><p>In a microservices architecture, services often need to communicate with each other to exchange data. Spring Cloud provides a tool called Feign for making HTTP requests to other services.</p><p>To use Feign, we’ll first create a Spring Boot application and add the following dependency:</p><div class=highlight><div style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#062873;font-weight:700>&lt;dependency&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#062873;font-weight:700>&lt;groupId&gt;</span>org.springframework.cloud<span style=color:#062873;font-weight:700>&lt;/groupId&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#062873;font-weight:700>&lt;artifactId&gt;</span>spring-cloud-starter-openfeign<span style=color:#062873;font-weight:700>&lt;/artifactId&gt;</span>
</span></span><span style=display:flex><span><span style=color:#062873;font-weight:700>&lt;/dependency&gt;</span>
</span></span></code></pre></td></tr></table></div></div><p>Next, we’ll create an interface for the service we want to call and annotate it with @FeignClient:</p><div class=highlight><div style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#555;font-weight:700>@FeignClient</span><span style=color:#666>(</span>name <span style=color:#666>=</span> <span style=color:#4070a0>&#34;service1&#34;</span><span style=color:#666>)</span>
</span></span><span style=display:flex><span><span style=color:#007020;font-weight:700>public</span> <span style=color:#007020;font-weight:700>interface</span> <span style=color:#0e84b5;font-weight:700>Service1Client</span> <span style=color:#666>{</span>
</span></span><span style=display:flex><span>  <span style=color:#555;font-weight:700>@GetMapping</span><span style=color:#666>(</span><span style=color:#4070a0>&#34;/message&#34;</span><span style=color:#666>)</span>
</span></span><span style=display:flex><span>  String <span style=color:#06287e>getMessage</span><span style=color:#666>();</span>
</span></span><span style=display:flex><span><span style=color:#666>}</span>
</span></span></code></pre></td></tr></table></div></div><p>And in our service class, we’ll use the interface to make a call to the other service:</p><div class=highlight><div style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#555;font-weight:700>@Service</span>
</span></span><span style=display:flex><span><span style=color:#007020;font-weight:700>public</span> <span style=color:#007020;font-weight:700>class</span> <span style=color:#0e84b5;font-weight:700>Service</span> <span style=color:#666>{</span>
</span></span><span style=display:flex><span>  <span style=color:#007020;font-weight:700>private</span> <span style=color:#007020;font-weight:700>final</span> Service1Client service1Client<span style=color:#666>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#007020;font-weight:700>public</span> <span style=color:#06287e>Service</span><span style=color:#666>(</span>Service1Client service1Client<span style=color:#666>)</span> <span style=color:#666>{</span>
</span></span><span style=display:flex><span>    <span style=color:#007020;font-weight:700>this</span><span style=color:#666>.</span><span style=color:#4070a0>service1Client</span> <span style=color:#666>=</span> service1Client<span style=color:#666>;</span>
</span></span><span style=display:flex><span>  <span style=color:#666>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#007020;font-weight:700>public</span> String <span style=color:#06287e>getMessageFromService1</span><span style=color:#666>()</span> <span style=color:#666>{</span>
</span></span><span style=display:flex><span>    <span style=color:#007020;font-weight:700>return</span> service1Client<span style=color:#666>.</span><span style=color:#4070a0>getMessage</span><span style=color:#666>();</span>
</span></span><span style=display:flex><span>  <span style=color:#666>}</span>
</span></span><span style=display:flex><span><span style=color:#666>}</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=5-load-balancing>5. Load balancing</h3><p>Load balancing is an important component of microservices architecture, as it helps distribute incoming requests across multiple instances of a service to improve performance and ensure high availability. In Spring Cloud, we can use Ribbon for client-side load balancing.</p><p>To use Ribbon, we’ll first create a Spring Boot application and add the following dependency:</p><div class=highlight><div style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#062873;font-weight:700>&lt;dependency&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#062873;font-weight:700>&lt;groupId&gt;</span>org.springframework.cloud<span style=color:#062873;font-weight:700>&lt;/groupId&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#062873;font-weight:700>&lt;artifactId&gt;</span>spring-cloud-starter-Netflix-ribbon<span style=color:#062873;font-weight:700>&lt;/artifactId&gt;</span>
</span></span><span style=display:flex><span><span style=color:#062873;font-weight:700>&lt;/dependency&gt;</span>
</span></span></code></pre></td></tr></table></div></div><p>Next, we’ll use the LoadBalancerClient to call the service and let Ribbon handle the load balancing:</p><div class=highlight><div style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#555;font-weight:700>@Service</span>
</span></span><span style=display:flex><span><span style=color:#007020;font-weight:700>public</span> <span style=color:#007020;font-weight:700>class</span> <span style=color:#0e84b5;font-weight:700>Service</span> <span style=color:#666>{</span>
</span></span><span style=display:flex><span>  <span style=color:#007020;font-weight:700>private</span> <span style=color:#007020;font-weight:700>final</span> LoadBalancerClient loadBalancerClient<span style=color:#666>;</span>
</span></span><span style=display:flex><span>  <span style=color:#007020;font-weight:700>public</span> <span style=color:#06287e>Service</span><span style=color:#666>(</span>LoadBalancerClient loadBalancer BalancerClient<span style=color:#666>)</span> <span style=color:#666>{</span> 
</span></span><span style=display:flex><span>      <span style=color:#007020;font-weight:700>this</span><span style=color:#666>.</span><span style=color:#4070a0>loadBalancerClient</span> <span style=color:#666>=</span> loadBalancerClient<span style=color:#666>;</span> 
</span></span><span style=display:flex><span>  <span style=color:#666>}</span>
</span></span><span style=display:flex><span>  <span style=color:#007020;font-weight:700>public</span> String <span style=color:#06287e>getMessageFromService1</span><span style=color:#666>()</span> <span style=color:#666>{</span> 
</span></span><span style=display:flex><span>      ServiceInstance serviceInstance <span style=color:#666>=</span> loadBalancerClient<span style=color:#666>.</span><span style=color:#4070a0>choose</span><span style=color:#666>(</span><span style=color:#4070a0>&#34;service1&#34;</span><span style=color:#666>);</span> 
</span></span><span style=display:flex><span>      String url <span style=color:#666>=</span> serviceInstance<span style=color:#666>.</span><span style=color:#4070a0>getUri</span><span style=color:#666>().</span><span style=color:#4070a0>toString</span><span style=color:#666>();</span> 
</span></span><span style=display:flex><span>      <span style=color:#007020;font-weight:700>return</span> <span style=color:#007020;font-weight:700>new</span> RestTemplate<span style=color:#666>().</span><span style=color:#4070a0>getForObject</span><span style=color:#666>(</span>url <span style=color:#666>+</span> <span style=color:#4070a0>&#34;/message&#34;</span><span style=color:#666>,</span> String<span style=color:#666>.</span><span style=color:#4070a0>class</span><span style=color:#666>);</span> 
</span></span><span style=display:flex><span>  <span style=color:#666>}</span> 
</span></span><span style=display:flex><span><span style=color:#666>}</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=6-circuit-breakers>6. Circuit Breakers</h3><p>In a microservices architecture, it’s important to have a mechanism to prevent a service from being overwhelmed by requests in case of failure, as this could lead to a cascade of failures across the system. This is where circuit breakers come in, as they provide a way to stop sending requests to a service if it’s not responding and resume sending requests once the service is back to normal.</p><p>In Spring Cloud, we can use Netflix Hystrix for circuit breakers. To use Hystrix, we’ll first create a Spring Boot application and add the following dependency:</p><div class=highlight><div style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#062873;font-weight:700>&lt;dependency&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#062873;font-weight:700>&lt;groupId&gt;</span>org.springframework.cloud<span style=color:#062873;font-weight:700>&lt;/groupId&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#062873;font-weight:700>&lt;artifactId&gt;</span>spring-cloud-starter-netflix-hystrix<span style=color:#062873;font-weight:700>&lt;/artifactId&gt;</span>
</span></span><span style=display:flex><span><span style=color:#062873;font-weight:700>&lt;/dependency&gt;</span>
</span></span></code></pre></td></tr></table></div></div><p>Next, we’ll annotate the method that calls the service with @HystrixCommand:</p><div class=highlight><div style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#555;font-weight:700>@Service</span>
</span></span><span style=display:flex><span><span style=color:#007020;font-weight:700>public</span> <span style=color:#007020;font-weight:700>class</span> <span style=color:#0e84b5;font-weight:700>Service</span> <span style=color:#666>{</span>
</span></span><span style=display:flex><span>    <span style=color:#007020;font-weight:700>private</span> <span style=color:#007020;font-weight:700>final</span> Service1Client service1Client<span style=color:#666>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#007020;font-weight:700>public</span> <span style=color:#06287e>Service</span><span style=color:#666>(</span>Service1Client service1Client<span style=color:#666>)</span> <span style=color:#666>{</span>
</span></span><span style=display:flex><span>      <span style=color:#007020;font-weight:700>this</span><span style=color:#666>.</span><span style=color:#4070a0>service1Client</span> <span style=color:#666>=</span> service1Client<span style=color:#666>;</span>
</span></span><span style=display:flex><span>    <span style=color:#666>}</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#555;font-weight:700>@HystrixCommand</span><span style=color:#666>(</span>fallbackMethod <span style=color:#666>=</span> <span style=color:#4070a0>&#34;getMessageFromService1Fallback&#34;</span><span style=color:#666>)</span>
</span></span><span style=display:flex><span>    <span style=color:#007020;font-weight:700>public</span> String <span style=color:#06287e>getMessageFromService1</span><span style=color:#666>()</span> <span style=color:#666>{</span>
</span></span><span style=display:flex><span>      <span style=color:#007020;font-weight:700>return</span> service1Client<span style=color:#666>.</span><span style=color:#4070a0>getMessage</span><span style=color:#666>();</span>
</span></span><span style=display:flex><span>    <span style=color:#666>}</span>
</span></span><span style=display:flex><span>    <span style=color:#007020;font-weight:700>public</span> String <span style=color:#06287e>getMessageFromService1Fallback</span><span style=color:#666>()</span> <span style=color:#666>{</span>
</span></span><span style=display:flex><span>      <span style=color:#007020;font-weight:700>return</span> <span style=color:#4070a0>&#34;Service 1 is not available&#34;</span><span style=color:#666>;</span>
</span></span><span style=display:flex><span>    <span style=color:#666>}</span>
</span></span><span style=display:flex><span><span style=color:#666>}</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=7-global-locks>7. Global locks</h3><p>In a microservices architecture, it’s often necessary to synchronize access to a shared resource to avoid conflicts. In Spring Cloud, we can use Apache ZooKeeper for distributed locks.</p><p>To use ZooKeeper, we’ll first create a Spring Boot application and add the following dependency:</p><div class=highlight><div style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#062873;font-weight:700>&lt;dependency&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#062873;font-weight:700>&lt;groupId&gt;</span>org.springframework.cloud<span style=color:#062873;font-weight:700>&lt;/groupId&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#062873;font-weight:700>&lt;artifactId&gt;</span>spring-cloud-starter-zookeeper-discovery<span style=color:#062873;font-weight:700>&lt;/artifactId&gt;</span>
</span></span><span style=display:flex><span><span style=color:#062873;font-weight:700>&lt;/dependency&gt;</span>
</span></span></code></pre></td></tr></table></div></div><p>Next, we’ll use the InterProcessMutex class from the Curator library to create a lock:</p><div class=highlight><div style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#555;font-weight:700>@Service</span>
</span></span><span style=display:flex><span><span style=color:#007020;font-weight:700>public</span> <span style=color:#007020;font-weight:700>class</span> <span style=color:#0e84b5;font-weight:700>Service</span> <span style=color:#666>{</span>
</span></span><span style=display:flex><span>  <span style=color:#007020;font-weight:700>private</span> <span style=color:#007020;font-weight:700>final</span> CuratorFramework curatorFramework<span style=color:#666>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#007020;font-weight:700>public</span> <span style=color:#06287e>Service</span><span style=color:#666>(</span>CuratorFramework curatorFramework<span style=color:#666>)</span> <span style=color:#666>{</span>
</span></span><span style=display:flex><span>    <span style=color:#007020;font-weight:700>this</span><span style=color:#666>.</span><span style=color:#4070a0>curatorFramework</span> <span style=color:#666>=</span> curatorFramework<span style=color:#666>;</span>
</span></span><span style=display:flex><span>  <span style=color:#666>}</span>
</span></span><span style=display:flex><span>  <span style=color:#007020;font-weight:700>public</span> <span style=color:#902000>void</span> <span style=color:#06287e>performAction</span><span style=color:#666>()</span> <span style=color:#666>{</span>
</span></span><span style=display:flex><span>    InterProcessMutex lock <span style=color:#666>=</span> <span style=color:#007020;font-weight:700>new</span> InterProcessMutex<span style=color:#666>(</span>curatorFramework<span style=color:#666>,</span> <span style=color:#4070a0>&#34;/locks/resource1&#34;</span><span style=color:#666>);</span>
</span></span><span style=display:flex><span>    <span style=color:#007020;font-weight:700>try</span> <span style=color:#666>{</span>
</span></span><span style=display:flex><span>      lock<span style=color:#666>.</span><span style=color:#4070a0>acquire</span><span style=color:#666>();</span>
</span></span><span style=display:flex><span>      <span style=color:#60a0b0;font-style:italic>// perform action
</span></span></span><span style=display:flex><span><span style=color:#60a0b0;font-style:italic></span>    <span style=color:#666>}</span> <span style=color:#007020;font-weight:700>catch</span> <span style=color:#666>(</span>Exception e<span style=color:#666>)</span> <span style=color:#666>{</span>
</span></span><span style=display:flex><span>      <span style=color:#60a0b0;font-style:italic>// handle exception
</span></span></span><span style=display:flex><span><span style=color:#60a0b0;font-style:italic></span>    <span style=color:#666>}</span> <span style=color:#007020;font-weight:700>finally</span> <span style=color:#666>{</span>
</span></span><span style=display:flex><span>      <span style=color:#007020;font-weight:700>try</span> <span style=color:#666>{</span>
</span></span><span style=display:flex><span>        lock<span style=color:#666>.</span><span style=color:#4070a0>release</span><span style=color:#666>();</span>
</span></span><span style=display:flex><span>      <span style=color:#666>}</span> <span style=color:#007020;font-weight:700>catch</span> <span style=color:#666>(</span>Exception e<span style=color:#666>)</span> <span style=color:#666>{</span>
</span></span><span style=display:flex><span>        <span style=color:#60a0b0;font-style:italic>// handle exception
</span></span></span><span style=display:flex><span><span style=color:#60a0b0;font-style:italic></span>      <span style=color:#666>}</span>
</span></span><span style=display:flex><span>    <span style=color:#666>}</span>
</span></span><span style=display:flex><span>  <span style=color:#666>}</span>
</span></span><span style=display:flex><span><span style=color:#666>}</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=8-leadership-election-and-cluster-state>8. Leadership election and cluster state</h3><p>In a microservices architecture, it’s often necessary to have a way to determine the leader among a group of instances, as the leader is responsible for certain actions in the cluster. In Spring Cloud, we can use Apache ZooKeeper for leader election and cluster state management.</p><p>To use ZooKeeper, we’ll first create a Spring Boot application and add the following dependency:</p><div class=highlight><div style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#062873;font-weight:700>&lt;dependency&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#062873;font-weight:700>&lt;groupId&gt;</span>org.springframework.cloud<span style=color:#062873;font-weight:700>&lt;/groupId&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#062873;font-weight:700>&lt;artifactId&gt;</span>spring-cloud-starter-zookeeper-discovery<span style=color:#062873;font-weight:700>&lt;/artifactId&gt;</span>
</span></span><span style=display:flex><span><span style=color:#062873;font-weight:700>&lt;/dependency&gt;</span>
</span></span></code></pre></td></tr></table></div></div><p>Next, we’ll use the LeaderLatch class from the Curator library to implement leader election:</p><div class=highlight><div style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#555;font-weight:700>@Service</span>
</span></span><span style=display:flex><span><span style=color:#007020;font-weight:700>public</span> <span style=color:#007020;font-weight:700>class</span> <span style=color:#0e84b5;font-weight:700>Service</span> <span style=color:#666>{</span>
</span></span><span style=display:flex><span>  <span style=color:#007020;font-weight:700>private</span> <span style=color:#007020;font-weight:700>final</span> CuratorFramework curatorFramework<span style=color:#666>;</span>   
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#007020;font-weight:700>public</span> <span style=color:#06287e>Service</span><span style=color:#666>(</span>CuratorFramework curatorFramework<span style=color:#666>)</span> <span style=color:#666>{</span>
</span></span><span style=display:flex><span>      <span style=color:#007020;font-weight:700>this</span><span style=color:#666>.</span><span style=color:#4070a0>curatorFramework</span> <span style=color:#666>=</span> curatorFramework<span style=color:#666>;</span>
</span></span><span style=display:flex><span>  <span style=color:#666>}</span>
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#007020;font-weight:700>public</span> <span style=color:#902000>void</span> <span style=color:#06287e>start</span><span style=color:#666>()</span> <span style=color:#007020;font-weight:700>throws</span> Exception <span style=color:#666>{</span>
</span></span><span style=display:flex><span>      LeaderLatch leaderLatch <span style=color:#666>=</span> <span style=color:#007020;font-weight:700>new</span> LeaderLatch<span style=color:#666>(</span>curatorFramework<span style=color:#666>,</span> <span style=color:#4070a0>&#34;/leader&#34;</span><span style=color:#666>);</span>
</span></span><span style=display:flex><span>      leaderLatch<span style=color:#666>.</span><span style=color:#4070a0>start</span><span style=color:#666>();</span>
</span></span><span style=display:flex><span>      leaderLatch<span style=color:#666>.</span><span style=color:#4070a0>await</span><span style=color:#666>();</span>
</span></span><span style=display:flex><span>      <span style=color:#007020;font-weight:700>if</span> <span style=color:#666>(</span>leaderLatch<span style=color:#666>.</span><span style=color:#4070a0>hasLeadership</span><span style=color:#666>())</span> <span style=color:#666>{</span>
</span></span><span style=display:flex><span>        <span style=color:#60a0b0;font-style:italic>// perform leader actions
</span></span></span><span style=display:flex><span><span style=color:#60a0b0;font-style:italic></span>      <span style=color:#666>}</span>
</span></span><span style=display:flex><span>    <span style=color:#666>}</span>
</span></span><span style=display:flex><span><span style=color:#666>}</span>
</span></span></code></pre></td></tr></table></div></div><ol start=9><li>Distributed messaging</li></ol><p>In a microservices architecture, it’s often necessary to send messages between services. In Spring Cloud, we can use RabbitMQ for distributed messaging.</p><p>To use RabbitMQ, we’ll first create a Spring Boot application and add the following dependency:</p><div class=highlight><div style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#062873;font-weight:700>&lt;dependency&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#062873;font-weight:700>&lt;groupId&gt;</span>org.springframework.cloud<span style=color:#062873;font-weight:700>&lt;/groupId&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#062873;font-weight:700>&lt;artifactId&gt;</span>spring-cloud-starter-stream-rabbit<span style=color:#062873;font-weight:700>&lt;/artifactId&gt;</span>
</span></span><span style=display:flex><span><span style=color:#062873;font-weight:700>&lt;/dependency&gt;</span>
</span></span></code></pre></td></tr></table></div></div><p>Next, we’ll create a message producer and a message consumer:</p><div class=highlight><div style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#555;font-weight:700>@EnableBinding</span><span style=color:#666>(</span>Source<span style=color:#666>.</span><span style=color:#4070a0>class</span><span style=color:#666>)</span>
</span></span><span style=display:flex><span><span style=color:#555;font-weight:700>@Service</span>
</span></span><span style=display:flex><span><span style=color:#007020;font-weight:700>public</span> <span style=color:#007020;font-weight:700>class</span> <span style=color:#0e84b5;font-weight:700>MessageProducer</span> <span style=color:#666>{</span>
</span></span><span style=display:flex><span>  <span style=color:#007020;font-weight:700>private</span> <span style=color:#007020;font-weight:700>final</span> Source source<span style=color:#666>;</span>  
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#007020;font-weight:700>public</span> <span style=color:#06287e>MessageProducer</span><span style=color:#666>(</span>Source source<span style=color:#666>)</span> <span style=color:#666>{</span>
</span></span><span style=display:flex><span>    <span style=color:#007020;font-weight:700>this</span><span style=color:#666>.</span> Source <span style=color:#666>=</span> source<span style=color:#666>;</span>
</span></span><span style=display:flex><span>  <span style=color:#666>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#007020;font-weight:700>public</span> <span style=color:#902000>void</span> <span style=color:#06287e>sendMessage</span><span style=color:#666>(</span>String message<span style=color:#666>)</span> <span style=color:#666>{</span>
</span></span><span style=display:flex><span>      source<span style=color:#666>.</span> <span style=color:#06287e>Output</span><span style=color:#666>().</span><span style=color:#4070a0>send</span><span style=color:#666>(</span>MessageBuilder<span style=color:#666>.</span><span style=color:#4070a0>withPayload</span><span style=color:#666>(</span>message<span style=color:#666>).</span><span style=color:#4070a0>build</span><span style=color:#666>());</span>
</span></span><span style=display:flex><span>    <span style=color:#666>}</span>
</span></span><span style=display:flex><span>  <span style=color:#666>}</span>
</span></span><span style=display:flex><span>  <span style=color:#555;font-weight:700>@StreamListener</span><span style=color:#666>(</span>Sink<span style=color:#666>.</span><span style=color:#4070a0>INPUT</span><span style=color:#666>)</span>
</span></span><span style=display:flex><span>  <span style=color:#555;font-weight:700>@Service</span>
</span></span><span style=display:flex><span>  <span style=color:#007020;font-weight:700>public</span> <span style=color:#007020;font-weight:700>class</span> <span style=color:#0e84b5;font-weight:700>MessageConsumer</span> <span style=color:#666>{</span>
</span></span><span style=display:flex><span>    <span style=color:#555;font-weight:700>@StreamListener</span>
</span></span><span style=display:flex><span>    <span style=color:#007020;font-weight:700>public</span> <span style=color:#902000>void</span> <span style=color:#06287e>handleMessage</span><span style=color:#666>(</span>String message<span style=color:#666>)</span> <span style=color:#666>{</span>
</span></span><span style=display:flex><span>      <span style=color:#60a0b0;font-style:italic>// handle message
</span></span></span><span style=display:flex><span><span style=color:#60a0b0;font-style:italic></span>    <span style=color:#666>}</span>
</span></span><span style=display:flex><span>  <span style=color:#666>}</span>
</span></span><span style=display:flex><span><span style=color:#666>}</span>
</span></span></code></pre></td></tr></table></div></div><p>In conclusion, Spring Cloud provides a rich set of tools for developing microservices with Java, including distributed configuration, service registration and discovery, routing, service-to-service calls, load balancing, circuit breakers, global locks, leadership election, and distributed messaging.</p><p>By using these tools, developers can focus on the business logic of their microservices and let Spring Cloud handle the infrastructure and integration between services.</p><div class=container><div><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3068198368246884" crossorigin=anonymous></script>
<ins class=adsbygoogle style=display:block data-ad-client=ca-pub-3068198368246884 data-ad-slot=9807437796 data-ad-format=auto data-full-width-responsive=true></ins>
<script>(adsbygoogle=window.adsbygoogle||[]).push({})</script></div></div></div></div></div></div></section></div><section class=footer id=contact><div class=footer__background_shape><svg viewBox="0 0 1920 79"><path d="M0 0h1920v79L0 0z" data-name="Path 1450"/></svg></div><div class=container><div class=row><div class=col-lg-12><div class=footer__cta><div class=shape-1><svg xmlns="http://www.w3.org/2000/svg" width="357" height="315.029" viewBox="0 0 357 315.029"><path data-name="Path 1449" d="M76.1-157.222C91.746-135.8 87.2-94.273 99.993-61.945c12.7 32.328 42.661 55.459 39.248 73.282-3.318 17.823-40.007 30.337-65.6 43.325-25.5 12.988-39.912 26.545-60.01 42.566-20.1 16.116-46.074 34.6-63.328 27.682-17.349-6.921-25.976-39.153-59.915-59.82s-93.1-29.768-105.325-51.478 22.373-56.028 43.609-93.949c21.331-37.921 29.2-79.35 53.563-96.793 24.459-17.444 65.414-10.9 103.9-6.921 38.396 3.982 74.326 5.404 89.965 26.829z" transform="translate(217.489 188.626)"/></svg></div><div class=shape-2><svg xmlns="http://www.w3.org/2000/svg" width="357" height="315.029" viewBox="0 0 357 315.029"><path data-name="Path 1449" d="M76.1-157.222C91.746-135.8 87.2-94.273 99.993-61.945c12.7 32.328 42.661 55.459 39.248 73.282-3.318 17.823-40.007 30.337-65.6 43.325-25.5 12.988-39.912 26.545-60.01 42.566-20.1 16.116-46.074 34.6-63.328 27.682-17.349-6.921-25.976-39.153-59.915-59.82s-93.1-29.768-105.325-51.478 22.373-56.028 43.609-93.949c21.331-37.921 29.2-79.35 53.563-96.793 24.459-17.444 65.414-10.9 103.9-6.921 38.396 3.982 74.326 5.404 89.965 26.829z" transform="translate(217.489 188.626)"/></svg></div><div class="text-light footer__cta_content"><span>Contact me</span><h3 class=mb-0>Let’s Discuss on your Cloud Journey</h3></div><div class=footer__cta_action><a class="btn btn-light btn-zoom" href=https://acethecloud.com/contact>Get in
touch</a></div></div></div></div><div class="row footer__widget"><div class=col-lg-4><div class="footer__widget_logo mb-5"><img src=https://acethecloud.com/images/contact/widget-logo.png style=width:400px alt=widget-logo></div></div><div class=col-lg-4 style=margin-left:100px><div class="text-light footer__widget_address mb-5"><h4 class=base-font>Sitemap</h4><ul class="unstyle-list small"><li class=mb-2><a class=text-light href=https://acethecloud.com/about>About Author</a></li><li class=mb-2><a class=text-light href=https://acethecloud.com/>Frequently Ask Question</a></li><li class=mb-2><a class=text-light href=https://acethecloud.com/>Privacy & Policy</a></li><li class=mb-2><a class=text-light href=https://acethecloud.com/>Latest Article</a></li></ul><h4 class=base-font>Address</h4><ul class="fa-ul small"><li class=mb-2><a class=text-light href=tel:><span class=fa-li><i class="fa fa-phone"></i></span></a></li><li class=mb-2><a class=text-light href=mailto:abhishek@acethecloud.com><span class=fa-li><i class="fa fa-envelope"></i></span>abhishek@acethecloud.com</a></li><li class=mb-2><span class=fa-li><i class="fa fa-map-marker"></i></span></a></li></ul></div></div></div><div class="row footer__footer"><div class=col-lg-6><div class="footer__footer_copy text-light"><p>Copyright 2024 - All Rights Reserved by <a class=text-light href=https://AceTheCloud.com/ target=_blank>AceTheCloud</a></p></div></div><div class=col-lg-6><div class=footer__footer_social><ul class=unstyle-list><li class="d-inline-block mx-2"><a class=text-light target=_blank href=https://facebook.com/cloud.and.mobile.evangelist/><i class="fa fa-facebook-official"></i></a></li><li class="d-inline-block mx-2"><a class=text-light target=_blank href=https://www.linkedin.com/in/enterprise-cloud-architect/><i class="fa fa-linkedin-square"></i></a></li><li class="d-inline-block mx-2"><a class=text-light target=_blank href=https://www.pinterest.com/><i class="fa fa-pinterest-square"></i></a></li><li class="d-inline-block mx-2"><a class=text-light target=_blank href=https://twitter.com/AceTheCloud><i class="fa fa-twitter-square"></i></a></li></ul></div></div></div></div></section><script src="https://maps.googleapis.com/maps/api/js?key=&libraries=geometry"></script>
<script src=https://acethecloud.com/plugins/jQuery/jquery.min.js></script>
<script src=https://acethecloud.com/plugins/bootstrap/bootstrap.min.js></script>
<script src=https://acethecloud.com/plugins/slick/slick.min.js></script>
<script src=https://acethecloud.com/plugins/waypoint/jquery.waypoints.min.js></script>
<script src=https://acethecloud.com/plugins/magnafic-popup/jquery.magnific-popup.min.js></script>
<script src=https://acethecloud.com/plugins/tweenmax/TweenMax.min.js></script>
<script src=https://acethecloud.com/plugins/imagesloaded/imagesloaded.min.js></script>
<script src=https://acethecloud.com/plugins/masonry/masonry.min.js></script>
<script src=https://acethecloud.com/js/script.min.js></script></body></html>